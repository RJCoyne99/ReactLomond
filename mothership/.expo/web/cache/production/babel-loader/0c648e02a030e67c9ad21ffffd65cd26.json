{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from'react';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Constants from'expo-constants';import S from\"../constants/c1--Styles\";import C from\"../constants/c2--Colours\";import O from\"../constants/c3--Objects\";import T from\"../constants/c4--Text\";import L from\"../constants/c5--Links\";import A from\"../constants/c6--Actions\";import N from\"../constants/c7--Navigation\";import D from\"../constants/c8--Data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Leads(props){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),data=_React$useState4[0],setData=_React$useState4[1];var APIURL=L.CRM_URL;var headers={'Accept':'application/json','Content-Type':'application/json'};var Data={repName:'DC Dwayne'};useEffect(function(){fetch(APIURL,{method:'POST',headers:headers,body:JSON.stringify(Data)}).then(function(Response){return Response.json();}).then(function(Response){Response=Response.filter(function(item){return item.name_value_list.rep_name_c.value=='Chris';}).map(function(_ref){var id=_ref.id,name_value_list=_ref.name_value_list;return{id:id,name_value_list:name_value_list};});setData(Response);console.log(Response);}).catch(function(error){console.error(\"ERROR FOUND\"+error);}).finally(function(){return setLoading(false);});},[]);var testData=[{id:'1',name_value_list:{rep_name_c:{name:'rep_name_c',value:'Chris'},name:{name:'name',value:'Name Test'},phone_home:{name:'phone_home',value:'Name Test'},primary_address_street:{name:'primary_address_street',value:'Address Test'},primary_address_postalcode:{name:'primary_address_postalcode',value:'Post Code Test'},appointmenttime_c:{name:'appointmenttime_c',value:'Appointment Time Test'}}}];return _jsxs(View,{style:{flex:1,padding:24},children:[_jsx(Text,{style:[S.headerText,{paddingBottom:30}],children:\" LEADS \"}),isLoading?_jsx(Text,{children:\"Loading...\"}):_jsxs(View,{style:{flex:1,flexDirection:'column',justifyContent:'space-between'},children:[_jsx(FlatList,{data:testData,keyExtractor:function keyExtractor(_ref2,index){var id=_ref2.id;return id;},renderItem:function renderItem(_ref3){var item=_ref3.item;return _jsx(View,{style:S.listItem,children:_jsx(TouchableOpacity,{onPress:function onPress(){props.lead(item);console.log(props.product);console.log(props.product);props.pageChange(props.product);},children:_jsx(Text,{children:'ID: '+item.id+'\\n  Rep Name: '+item.name_value_list.rep_name_c.value+'\\n  Name: '+item.name_value_list.name.value+'\\n  Phone: '+item.name_value_list.phone_home.value+'\\n  Address: '+item.name_value_list.primary_address_street.value+'\\n  Post Code: '+item.name_value_list.primary_address_postalcode.value+'\\n  Appointment Time: '+item.name_value_list.appointmenttime_c.value+'\\n '})})});}}),_jsx(FlatList,{data:data,keyExtractor:function keyExtractor(_ref4,index){var id=_ref4.id;return id;},renderItem:function renderItem(_ref5){var item=_ref5.item;return _jsx(View,{style:S.listItem,children:_jsx(TouchableOpacity,{onPress:function onPress(){props.lead(item);console.log(props.product);console.log(props.product);props.pageChange(props.product);},children:_jsx(Text,{children:'ID: '+item.id+'\\n  Rep Name: '+item.name_value_list.rep_name_c.value+'\\n  Name: '+item.name_value_list.name.value+'\\n  Phone: '+item.name_value_list.phone_home.value+'\\n  Address: '+item.name_value_list.primary_address_street.value+'\\n  Post Code: '+item.name_value_list.primary_address_postalcode.value+'\\n  Appointment Time: '+item.name_value_list.appointmenttime_c.value+'\\n '})})});}})]})]});}var styles=StyleSheet.create({container:{flex:1,justifyContent:'center',paddingTop:Constants.statusBarHeight,backgroundColor:'#ecf0f1',padding:8,width:'100%'}});","map":{"version":3,"sources":["/Users/joshuafarmer-macbook_pro/IOPEWQ-Synced/WebStudioScotland/Development/WebStudioScotland/Lomond-2022/mothership/src/screens/Leads.js"],"names":["React","useEffect","useState","Constants","S","C","O","T","L","A","N","D","Leads","props","isLoading","setLoading","data","setData","APIURL","CRM_URL","headers","Data","repName","fetch","method","body","JSON","stringify","then","Response","json","filter","item","name_value_list","rep_name_c","value","map","id","console","log","catch","error","finally","testData","name","phone_home","primary_address_street","primary_address_postalcode","appointmenttime_c","flex","padding","headerText","paddingBottom","flexDirection","justifyContent","index","listItem","lead","product","pageChange","styles","StyleSheet","create","container","paddingTop","statusBarHeight","backgroundColor","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Text, View, StyleSheet, TouchableOpacity, FlatList } from 'react-native';\r\nimport Constants from 'expo-constants';\r\n\r\nimport S from '../constants/c1--Styles';\r\nimport C from '../constants/c2--Colours';\r\nimport O from '../constants/c3--Objects';\r\nimport T from '../constants/c4--Text';\r\nimport L from '../constants/c5--Links';\r\nimport A from '../constants/c6--Actions';\r\nimport N from '../constants/c7--Navigation';\r\nimport D from '../constants/c8--Data';\r\n\r\nexport default function Leads(props){\r\n\r\n  const [isLoading, setLoading] = React.useState(true);\r\n    const [data, setData] = React.useState([]);\r\n    \r\n    var APIURL = L.CRM_URL;\r\n    var headers = {\r\n      'Accept' : 'application/json',\r\n      'Content-Type' : 'application/json'\r\n    };    \r\n    var Data ={\r\n      // repName: repName\r\n      repName: 'DC Dwayne'\r\n    };\r\n    \r\n      useEffect(() => {\r\n        fetch(APIURL,{\r\n          method: 'POST',\r\n          headers: headers,\r\n          body: JSON.stringify(Data)\r\n        })\r\n        .then((Response)=>Response.json())\r\n        .then((Response)=>{\r\n          \r\n          // setData(Response);\r\n\r\n          Response = Response.filter(function(item){\r\n            return item.name_value_list.rep_name_c.value == 'Chris';\r\n         }).map(function({id, name_value_list}){\r\n           return {id, name_value_list};\r\n          });\r\n         setData(Response);\r\n         console.log(Response);\r\n\r\n          // console.log(data);\r\n          // return Response;\r\n              // alert(Response);ß\r\n              // console.log(Response);\r\n                // Response.map((item, index) => {\r\n                // console.log(item);})\r\n        })\r\n        .catch((error)=>{\r\n          console.error(\"ERROR FOUND\" + error);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    \r\n      }, [])\r\n\r\n    \r\nlet testData = [{\r\n    id: '1',\r\n    name_value_list: {\r\n      rep_name_c:{name: 'rep_name_c', value: 'Chris'}, \r\n      name:{name: 'name', value: 'Name Test'}, \r\n      phone_home:{name: 'phone_home', value: 'Name Test'}, \r\n      primary_address_street:{name: 'primary_address_street', value: 'Address Test'}, \r\n      primary_address_postalcode:{name: 'primary_address_postalcode', value: 'Post Code Test'}, \r\n      appointmenttime_c:{name: 'appointmenttime_c', value: 'Appointment Time Test'}, \r\n    },\r\n  }];\r\n\r\n\r\n\r\n    return (\r\n\r\n\r\n      <View style={{ flex: 1, padding: 24 }}>\r\n\r\n          <Text style={[S.headerText,{paddingBottom: 30}]}> LEADS </Text>\r\n  {/* TODO FIX LOADING STYLES */}\r\n      {isLoading ? <Text>Loading...</Text> : \r\n      ( <View style={{ flex: 1, flexDirection: 'column', justifyContent:  'space-between'}}>\r\n          {/* <Text style={{ fontSize: 18, color: 'green', textAlign: 'center'}}>{data.title}</Text>\r\n          <Text style={{ fontSize: 14, color: 'green', textAlign: 'center', paddingBottom: 10}}>Leads:</Text> */}\r\n          <FlatList\r\n            data={testData}\r\n            keyExtractor={({ id }, index) => id}\r\n            renderItem={({ item }) => (\r\n              <View style={S.listItem}>\r\n              <TouchableOpacity onPress={() => {\r\n                props.lead(item); \r\n                console.log(props.product)\r\n                console.log(props.product)\r\n              props.pageChange(props.product)}} >\r\n                <Text>{'ID: ' + item.id + '\\n  Rep Name: ' + item.name_value_list.rep_name_c.value  + '\\n  Name: ' + item.name_value_list.name.value  + '\\n  Phone: ' + item.name_value_list.phone_home.value + '\\n  Address: ' + item.name_value_list.primary_address_street.value + '\\n  Post Code: ' + item.name_value_list.primary_address_postalcode.value + '\\n  Appointment Time: ' + item.name_value_list.appointmenttime_c.value + '\\n '}</Text>\r\n              </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          <FlatList\r\n            data={data}\r\n            keyExtractor={({ id }, index) => id}\r\n            renderItem={({ item }) => (\r\n              <View style={S.listItem}>\r\n              <TouchableOpacity onPress={() => {\r\n                props.lead(item); \r\n                console.log(props.product)\r\n                console.log(props.product)\r\n              props.pageChange(props.product)}} >\r\n                <Text>{'ID: ' + item.id + '\\n  Rep Name: ' + item.name_value_list.rep_name_c.value  + '\\n  Name: ' + item.name_value_list.name.value  + '\\n  Phone: ' + item.name_value_list.phone_home.value + '\\n  Address: ' + item.name_value_list.primary_address_street.value + '\\n  Post Code: ' + item.name_value_list.primary_address_postalcode.value + '\\n  Appointment Time: ' + item.name_value_list.appointmenttime_c.value + '\\n '}</Text>\r\n              </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n      )}\r\n    </View>\r\n    );\r\n  }\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingTop: Constants.statusBarHeight,\r\n    backgroundColor: '#ecf0f1',\r\n    padding: 8,\r\n    width: '100%'\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}