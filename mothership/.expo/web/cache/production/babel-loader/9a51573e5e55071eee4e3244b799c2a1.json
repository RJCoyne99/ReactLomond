{"ast":null,"code":"import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{WebView}from\"react-native-web-webview\";import React from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var generate=function generate(props){var onMessage=function onMessage(payload){};var url=\"https://lomondcrm.co.uk/app/app/garden/pixie/index.html\";var leadInfoFull=props.lead.name_value_list.name.value;var leadInfoFirstName=leadInfoFull.split(\" \")[0];var leadInfoLastName=leadInfoFull.split(\" \")[1];return _jsxs(View,{style:{width:\"100%\",height:\"100%\"},children:[_jsxs(Text,{children:[\"J\",props.lead.id]}),_jsx(View,{style:styles.container,children:_jsx(WebView,{source:{uri:url},javaScriptEnabled:true,domStorageEnabled:true,injectedJavaScriptBeforeContentLoaded:function(){window.localStorage.setItem(\"leadInfoId\",props.lead.id+\"dsa\");window.localStorage.setItem(\"leadInfoFirstName\",leadInfoFirstName);window.localStorage.setItem(\"leadInfoLastName\",leadInfoLastName);window.localStorage.setItem(\"leadInfoPhone\",props.lead.name_value_list.phone_home.value);window.localStorage.setItem(\"leadInfoRep\",props.lead.name_value_list.rep_name_c.value);window.localStorage.setItem(\"leadInfoAddress\",props.lead.name_value_list.primary_address_street.value);window.localStorage.setItem(\"leadInfoPostCode\",props.lead.name_value_list.primary_address_postalcode.value);var tokenLocalStorage=window.localStorage.setItem(\"lead\",props.lead);window.localStorage.setItem(\"gardenHomeSize\",props.contract.gardenHomeSize);window.localStorage.setItem(\"numberOfWindows\",props.contract.numberOfWindows);window.localStorage.setItem(\"typeOfWindows\",props.contract.typeOfWindows);window.localStorage.setItem(\"typeOfDoors\",props.contract.typeOfDoors);window.localStorage.setItem(\"typeOfCladding\",props.contract.typeOfCladding);window.localStorage.setItem(\"directionOfCladding\",props.contract.directionOfCladding);window.localStorage.setItem(\"compositeDecking\",props.contract.compositeDecking);window.localStorage.setItem(\"skylight\",props.contract.skylight);window.localStorage.setItem(\"waterAndWasteConnection\",props.contract.waterAndWasteConnection);window.localStorage.setItem(\"glassOrPlasterboardInternalWall\",props.contract.glassOrPlasterboardInternalWall);window.localStorage.setItem(\"hardLandscaping\",props.contract.hardLandscaping);window.localStorage.setItem(\"catSixConnection\",props.contract.catSixConnection);window.localStorage.setItem(\"additionalOverhangs\",props.contract.additionalOverhangs);window.localStorage.setItem(\"artificialGrass\",props.contract.artificialGrass);var leadInfoId=window.localStorage.getItem(\"leadInfoId\");console.log(\"LEAD ID:\"+leadInfoId);}(),onError:function onError(syntheticEvent){var nativeEvent=syntheticEvent.nativeEvent;console.warn(\"WebView error: \",nativeEvent);}})})]});};export default generate;var styles=StyleSheet.create({container:{flex:1,alignItems:\"center\",justifyContent:\"space-between\"},video:{marginTop:20,maxHeight:200,width:320,flex:1}});","map":{"version":3,"sources":["/Users/joshuafarmer-macbook_pro/IOPEWQ-Synced/WebStudioScotland/Development/WebStudioScotland/Lomond-2022/mothership/src/screens/GardenHome/generateWebView.js"],"names":["WebView","React","generate","props","onMessage","payload","url","leadInfoFull","lead","name_value_list","name","value","leadInfoFirstName","split","leadInfoLastName","width","height","id","styles","container","uri","window","localStorage","setItem","phone_home","rep_name_c","primary_address_street","primary_address_postalcode","tokenLocalStorage","contract","gardenHomeSize","numberOfWindows","typeOfWindows","typeOfDoors","typeOfCladding","directionOfCladding","compositeDecking","skylight","waterAndWasteConnection","glassOrPlasterboardInternalWall","hardLandscaping","catSixConnection","additionalOverhangs","artificialGrass","leadInfoId","getItem","console","log","syntheticEvent","nativeEvent","warn","StyleSheet","create","flex","alignItems","justifyContent","video","marginTop","maxHeight"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, View } from \"react-native\";\nimport { WebView } from \"react-native-web-webview\";\nimport React from \"react\";\n\nconst generate = (props) => {\n  // console.log(props.lead);\n  // console.log(props.lead.id);\n  // console.log(props.lead.name_value_list.rep_name_c.value);\n  // console.log(props.lead.name_value_list.name.value);\n  // console.log(props.lead.name_value_list.phone_home.value);\n  // console.log(props.lead.name_value_list.primary_address_street.value);\n  // console.log(props.lead.name_value_list.name.value);\n\n  const onMessage = (payload) => {\n    // console.log(\"payload\", payload);\n  };\n  const url = \"https://lomondcrm.co.uk/app/app/garden/pixie/index.html\";\n  // +\n  // props.lead.id +\n  // \"&rep_name=\" +\n  // props.lead.name_value_list.rep_name_c.value +\n  // \"&name=\" +\n  // props.lead.name_value_list.name.value +\n  // \"&phone=\" +\n  // props.lead.name_value_list.phone_home.value +\n  // \"&address=\" +\n  // props.lead.name_value_list.primary_address_street.value +\n  // \"&postcode=\" +\n  // props.lead.name_value_list.primary_address_postalcode.value +\n  // \"&appointment_time=\" +\n  // props.lead.name_value_list.appointmenttime_c.value;\n\n  const leadInfoFull = props.lead.name_value_list.name.value;\n  const leadInfoFirstName = leadInfoFull.split(\" \")[0];\n  const leadInfoLastName = leadInfoFull.split(\" \")[1];\n  return (\n    <View style={{ width: \"100%\", height: \"100%\" }}>\n      <Text>J{props.lead.id}</Text>\n      {/* <View style={{ width: 900 }}>\n     \n{/*  */}\n      <View style={styles.container}>\n        {/* <WebView\n          source={{ uri: \"https://www.youtube.com/embed/MhkGQAoc7bc\" }}\n          style={styles.video}\n        />\n        <WebView\n          source={{ uri: \"https://www.youtube.com/embed/PGUMRVowdv8\" }}\n          style={styles.video}\n        /> */}\n        <WebView\n          source={{\n            uri: url,\n          }}\n          javaScriptEnabled={true}\n          domStorageEnabled={true}\n          injectedJavaScriptBeforeContentLoaded={(function () {\n            window.localStorage.setItem(\"leadInfoId\", props.lead.id + \"dsa\");\n            window.localStorage.setItem(\"leadInfoFirstName\", leadInfoFirstName);\n            window.localStorage.setItem(\"leadInfoLastName\", leadInfoLastName);\n            window.localStorage.setItem(\n              \"leadInfoPhone\",\n              props.lead.name_value_list.phone_home.value\n            );\n            window.localStorage.setItem(\n              \"leadInfoRep\",\n              props.lead.name_value_list.rep_name_c.value\n            );\n            window.localStorage.setItem(\n              \"leadInfoAddress\",\n              props.lead.name_value_list.primary_address_street.value\n            );\n            window.localStorage.setItem(\n              \"leadInfoPostCode\",\n              props.lead.name_value_list.primary_address_postalcode.value\n            );\n\n            const tokenLocalStorage = window.localStorage.setItem(\n              \"lead\",\n              props.lead\n            );\n\n            // JOB REQUIREMENTS\n            window.localStorage.setItem(\n              \"gardenHomeSize\",\n              props.contract.gardenHomeSize\n            );\n            window.localStorage.setItem(\n              \"numberOfWindows\",\n              props.contract.numberOfWindows\n            );\n            window.localStorage.setItem(\n              \"typeOfWindows\",\n              props.contract.typeOfWindows\n            );\n            window.localStorage.setItem(\n              \"typeOfDoors\",\n              props.contract.typeOfDoors\n            );\n            window.localStorage.setItem(\n              \"typeOfCladding\",\n              props.contract.typeOfCladding\n            );\n            window.localStorage.setItem(\n              \"directionOfCladding\",\n              props.contract.directionOfCladding\n            );\n            window.localStorage.setItem(\n              \"compositeDecking\",\n              props.contract.compositeDecking\n            );\n            window.localStorage.setItem(\"skylight\", props.contract.skylight);\n            window.localStorage.setItem(\n              \"waterAndWasteConnection\",\n              props.contract.waterAndWasteConnection\n            );\n            window.localStorage.setItem(\n              \"glassOrPlasterboardInternalWall\",\n              props.contract.glassOrPlasterboardInternalWall\n            );\n            window.localStorage.setItem(\n              \"hardLandscaping\",\n              props.contract.hardLandscaping\n            );\n            window.localStorage.setItem(\n              \"catSixConnection\",\n              props.contract.catSixConnection\n            );\n            window.localStorage.setItem(\n              \"additionalOverhangs\",\n              props.contract.additionalOverhangs\n            );\n            window.localStorage.setItem(\n              \"artificialGrass\",\n              props.contract.artificialGrass\n            );\n\n            var leadInfoId = window.localStorage.getItem(\"leadInfoId\");\n            console.log(\"LEAD ID:\" + leadInfoId);\n            // window.ReactNativeWebView.postMessage(tokenLocalStorage);\n            // window.ReactNativeWebView.postMessage(lead);\n          })()}\n          // onMessage={onMessage}\n          onError={(syntheticEvent) => {\n            const { nativeEvent } = syntheticEvent;\n            console.warn(\"WebView error: \", nativeEvent);\n          }}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default generate;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  video: {\n    marginTop: 20,\n    maxHeight: 200,\n    width: 320,\n    flex: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}